# ๐งช **ุชุณุช ฺฉุงูู API SMS.ir - ูุทุงุจู ูุณุชูุฏุงุช ุฑุณู**

## ๐ **ุงุทูุงุนุงุช ุชูุธู ุดุฏู:**

| ูพุงุฑุงูุชุฑ | ููุฏุงุฑ | ูุถุนุช |
|---------|--------|--------|
| **API Key** | `jClChBBaWXvfhHfqhBrIDIcwV5tzSj7GRVTZavQEFTPcYgqV` | โ ุชูุธู ุดุฏู |
| **Template ID** | `165688` | โ ุชูุธู ุดุฏู |
| **Parameter Name** | `Code` | โ ุชูุธู ุดุฏู |
| **Mobile Number** | ุชุณุช ุจุง ุดูุงุฑู ูุงูุน | โ ุขูุงุฏู |

---

## ๐งช **ุชุณุชโูุง ูุทุงุจู ูุณุชูุฏุงุช SMS.ir**

### **1. ุชุณุช ูุณุชูู API (ูุณุชูุฏุงุช SMS.ir)**

#### **Request Body:**
```json
{
    "mobile": "9123456789",
    "templateId": 165688,
    "parameters": [
        {
            "name": "Code",
            "value": "123456"
        }
    ]
}
```

#### **cURL Command:**
```bash
curl -X POST "https://api.sms.ir/v1/send/verify" \
  -H "x-api-key: jClChBBaWXvfhHfqhBrIDIcwV5tzSj7GRVTZavQEFTPcYgqV" \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{
    "mobile": "9123456789",
    "templateId": 165688,
    "parameters": [
      {
        "name": "Code",
        "value": "123456"
      }
    ]
  }'
```

#### **Expected Response:**
```json
{
    "status": 1,
    "message": "ูููู",
    "data": {
        "messageId": 89545112,
        "cost": 1.0
    }
}
```

---

### **2. ุชุณุช ุงุฒ ุทุฑู ุณุณุชู (ูพุงุฏูโุณุงุฒ ุดุฏู)**

#### **Request to Backend:**
```bash
POST https://salamatlab-backend.liara.run/api/otp.php
Content-Type: application/json

{
  "action": "send",
  "phone": "09123456789"
}
```

#### **Expected Response:**
```json
{
  "success": true,
  "message": "ฺฉุฏ ุงููุช ุงุฑุณุงู ุดุฏ",
  "data": {
    "expiresIn": 300,
    "phone": "09123456789"
  }
}
```

---

### **3. ุชุณุช ุจุฑุฑุณ ฺฉุฏ**

#### **Request:**
```bash
POST https://salamatlab-backend.liara.run/api/otp.php
Content-Type: application/json

{
  "action": "verify",
  "phone": "09123456789",
  "code": "123456"
}
```

#### **Expected Response:**
```json
{
  "success": true,
  "message": "ฺฉุฏ ุงููุช ุชุฃุฏ ุดุฏ",
  "data": {
    "verified": true,
    "phone": "09123456789"
  }
}
```

---

## ๐ฑ **ุชุณุช ุจุง ุฑุงุจุท ฺฉุงุฑุจุฑ**

### **ูุฑุญูู ฑ: ุจุงุฒ ฺฉุฑุฏู ุตูุญู ุชุณุช**
```
https://salamatlab-frontend.liara.run/test-otp.html
```

### **ูุฑุญูู ฒ: ุชุณุช ุชูุธูุงุช**
1. ุชุจ "ุชูุธูุงุช" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. ุฑู "ุชุณุช ุชูุธูุงุช" ฺฉูฺฉ ฺฉูุฏ
3. ุจุงุฏ ูพุงู ููููุช ุจุจูุฏ

### **ูุฑุญูู ณ: ุชุณุช ุงุฑุณุงู SMS**
1. ุชุจ "ุงุฑุณุงู ฺฉุฏ" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. ุดูุงุฑู ููุจุงู ุฎูุฏุชุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ (ูุซุงู: 09123456789)
3. ุฑู "ุงุฑุณุงู ูุงูุน" ฺฉูฺฉ ฺฉูุฏ
4. ููุชุธุฑ ุฏุฑุงูุช ูพุงูฺฉ ุจุงุดุฏ

### **ูุฑุญูู ด: ุชุณุช ุจุฑุฑุณ ฺฉุฏ**
1. ุชุจ "ุจุฑุฑุณ ฺฉุฏ" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. ุดูุงุฑู ููุจุงู ู ฺฉุฏ ุฏุฑุงูุช ุฑุง ูุงุฑุฏ ฺฉูุฏ
3. ุฑู "ุจุฑุฑุณ ฺฉุฏ" ฺฉูฺฉ ฺฉูุฏ
4. ุจุงุฏ ูพุงู ุชุฃุฏ ุจุจูุฏ

---

## ๐ **ุจุฑุฑุณ Response Codes**

### **ููููุช:**
```json
{
    "status": 1,
    "message": "ูููู",
    "data": {
        "messageId": 89545112,
        "cost": 1.0
    }
}
```

### **ุฎุทุงูุง ุฑุงุฌ:**

#### **API Key ูุงูุนุชุจุฑ:**
```json
{
    "status": 0,
    "message": "ฺฉูุฏ ูุจ ุณุฑูุณ ูุงูุนุชุจุฑ ุงุณุช"
}
```

#### **Template ID ูุงูุนุชุจุฑ:**
```json
{
    "status": 0,
    "message": "ูุงูุจ ุงูุช ูุดุฏ"
}
```

#### **ุดูุงุฑู ููุจุงู ูุงูุนุชุจุฑ:**
```json
{
    "status": 0,
    "message": "ุดูุงุฑู ููุจุงู ูุงูุนุชุจุฑ ุงุณุช"
}
```

#### **ูุญุฏูุฏุช ุงุฑุณุงู:**
```json
{
    "status": 0,
    "message": "ูุญุฏูุฏุช ุงุฑุณุงู ุฑูุฒุงูู"
}
```

---

## ๐ **ูุงูุชูุฑูฺฏ ู ูุงฺฏโูุง**

### **ูุงฺฏโูุง ูููู:**
```
[SMS.ir] OTP sent successfully
- phone: 9123456789
- message_id: 89545112
- cost: 1.0
- template_id: 165688
```

### **ูุงฺฏโูุง ุฎุทุง:**
```
[SMS.ir] API returned error
- phone: 9123456789
- status_code: 0
- error_message: ูุงูุจ ุงูุช ูุดุฏ
```

---

## โ **ฺฺฉ ูุณุช ุชุณุช ููุง**

### **ูุจู ุงุฒ ุชุณุช:**
- [x] API Key ุชูุธู ุดุฏู
- [x] Template ID ุชูุธู ุดุฏู
- [x] Environment Variables ุฏุฑ Liara ุชูุธู ุดุฏู
- [x] Backend ูุณุชูุฑ ุดุฏู
- [x] Frontend ูุณุชูุฑ ุดุฏู

### **ุชุณุชโูุง ุงุตู:**
- [ ] ุชุณุช ุชูุธูุงุช (test-sms.php)
- [ ] ุชุณุช ุงุฑุณุงู SMS (otp.php)
- [ ] ุชุณุช ุจุฑุฑุณ ฺฉุฏ (otp.php)
- [ ] ุชุณุช ุฑุงุจุท ฺฉุงุฑุจุฑ (test-otp.html)

### **ุชุณุชโูุง ูพุดุฑูุชู:**
- [ ] ุชุณุช ุจุง ุดูุงุฑูโูุง ูุฎุชูู
- [ ] ุชุณุช ูุญุฏูุฏุช ุงุฑุณุงู
- [ ] ุชุณุช ฺฉุฏูุง ูููุถ
- [ ] ุชุณุช ูุงฺฏโูุง ุณุณุชู

---

## ๐ฏ **ุงฺฏุฑ ููู ฺุฒ ุฏุฑุณุช ฺฉุงุฑ ฺฉุฑุฏ:**

### **โ ูุชุฌู ูููู:**
```
โ ุชูุธูุงุช SMS.ir ฺฉุงูู
โ API ฺฉุงููุงู ูุทุงุจู ูุณุชูุฏุงุช
โ ุงุฑุณุงู ูพุงูฺฉ ูููู
โ ุจุฑุฑุณ ฺฉุฏ ูููู
โ ูุงฺฏโฺฏุฐุงุฑ ฺฉุงูู
โ ุงููุช ุจุงูุง
```

---

## ๐จ **ุนุจโุงุจ:**

### **ุงฺฏุฑ ุชุณุช ุชูุธูุงุช ูุงูููู ุจูุฏ:**
```json
{
  "sms_api_key": "NOT SET โ"
}
```
**ุฑุงูโุญู:** ุชูุธูุงุช Liara ุฑุง ฺฺฉ ฺฉูุฏ

### **ุงฺฏุฑ ุงุฑุณุงู SMS ูุงูููู ุจูุฏ:**
```json
{
  "success": false,
  "error": "ุฎุทุง ุฏุฑ ุงุฑุณุงู ูพุงูฺฉ"
}
```
**ุฑุงูโุญู:** ูุงฺฏโูุง Liara ุฑุง ฺฺฉ ฺฉูุฏ

---

## ๐ **ุชุจุฑฺฉ!**

ุงฺฏุฑ ููู ุชุณุชโูุง ูููู ุจูุฏูุฏุ **ุณุณุชู SMS.ir ุดูุง ฺฉุงููุงู ุขูุงุฏู ู ูุทุงุจู ูุณุชูุฏุงุช ุฑุณู ุงุณุช!** ๐

**ุดูุงุฑู ููุจุงู ุฎูุฏุชุงู ุฑุง ุชุณุช ฺฉูุฏ ู ุงุฒ ุณุณุชู ูุฐุช ุจุจุฑุฏ!** ๐ฑโจ
