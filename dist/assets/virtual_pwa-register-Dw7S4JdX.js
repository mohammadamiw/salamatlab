var d=(l,p,s)=>new Promise((n,r)=>{var c=t=>{try{i(s.next(t))}catch(o){r(o)}},a=t=>{try{i(s.throw(t))}catch(o){r(o)}},i=t=>t.done?n(t.value):Promise.resolve(t.value).then(c,a);i((s=s.apply(l,p)).next())});import{_ as m}from"./index-BVYUB4y8.js";import"./ui-CPig_Bzz.js";import"./vendor-YT48caDH.js";import"./utils-B-dksMZM.js";function W(l={}){const{immediate:p=!1,onNeedRefresh:s,onOfflineReady:n,onRegistered:r,onRegisteredSW:c,onRegisterError:a}=l;let i,t;const o=(e=!0)=>d(this,null,function*(){yield t});function u(){return d(this,null,function*(){if("serviceWorker"in navigator){if(i=yield m(()=>d(this,null,function*(){const{Workbox:e}=yield import("./workbox-window.prod.es5-fJwV-9vL.js");return{Workbox:e}}),[]).then(({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"})).catch(e=>{a==null||a(e)}),!i)return;i.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),i.addEventListener("installed",e=>{e.isUpdate||n==null||n()}),i.register({immediate:p}).then(e=>{c?c("/sw.js",e):r==null||r(e)}).catch(e=>{a==null||a(e)})}})}return t=u(),o}export{W as registerSW};
