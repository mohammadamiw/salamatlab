# ๐ ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ุณุฑุน SMS.ir

## ๐ **ูพุดโูุงุฒูุง**

### **1. ุญุณุงุจ SMS.ir**
- ุซุจุชโูุงู ุฏุฑ [SMS.ir](https://sms.ir)
- ูุนุงูโุณุงุฒ ุญุณุงุจ ฺฉุงุฑุจุฑ
- ุดุงุฑฺ ุญุณุงุจ

### **2. ุงุฌุงุฏ API Key**
1. ูุฑูุฏ ุจู ูพูู SMS.ir
2. ุจุฎุด **ุจุฑูุงููโููุณุงู** โ **API Key**
3. ุงุฌุงุฏ ฺฉูุฏ ุฌุฏุฏ
4. ฺฉูพ ฺฉุฑุฏู API Key

### **3. ุงุฌุงุฏ ุงูฺฏููุง (Templates)**
1. ุจุฎุด **ุงุฑุณุงู ุณุฑุน** โ **ุงูฺฏููุง**
2. ุงุฌุงุฏ ุงูฺฏููุง ุฒุฑ:

#### **ุงูฺฏู OTP (ุงุฌุจุงุฑ)**
```
ุนููุงู: ฺฉุฏ ุชุงุฏ ูุฑูุฏ
ูุชู: ฺฉุฏ ุชุงุฏ ุดูุง: {Code}
```

#### **ุงูฺฏููุง ุชุฃุฏ (ุงุฎุชุงุฑ)**
```
ุนููุงู: ุชุงุฏ ุฑุฒุฑู ฺฺฉุงูพ
ูุชู: {NAME} ุนุฒุฒุ ุฑุฒุฑู {CHECKUP} ุดูุง ุชุงุฏ ุดุฏ.

ุนููุงู: ุชุงุฏ ูุธุฑุณูุฌ
ูุชู: {NAME} ุนุฒุฒุ ูุธุฑ ุดูุง ุฏุฑุงูุช ุดุฏ.

ุนููุงู: ุชุงุฏ ุงุณุชุฎุฏุงู
ูุชู: {NAME} ุนุฒุฒุ ุฏุฑุฎูุงุณุช ุดูุง ุซุจุช ุดุฏ.
```

---

## โ๏ธ **ุชูุธู ูุชุบุฑูุง ูุญุท ุฏุฑ Liara**

ุฏุฑ ูพูู Liara ุจุฑุง ุงูพ `salamatlab-backend`:

```bash
# ===========================================
# SMS.ir Configuration
# ===========================================

# API Key ุงุฒ ูพูู SMS.ir
SMSIR_API_KEY=your_actual_api_key_here

# Template ID ุจุฑุง OTP (ุงุฒ ูพูู SMS.ir)
SMSIR_TEMPLATE_ID=your_otp_template_id

# ูุงู ูพุงุฑุงูุชุฑ ุฏุฑ ุงูฺฏู (ูุนูููุงู Code)
SMSIR_TEMPLATE_PARAM_NAME=Code

# ===========================================
# Optional Templates
# ===========================================

# ุงูฺฏู ุชุงุฏ ฺฺฉุงูพ
CHECKUP_CONFIRM_TEMPLATE_ID=your_checkup_template_id
CHECKUP_CONFIRM_NAME_PARAM=NAME
CHECKUP_CONFIRM_TITLE_PARAM=CHECKUP

# ุงูฺฏู ุชุงุฏ ุนููู
SMSIR_CONFIRM_TEMPLATE_ID=your_general_confirm_template_id
SMSIR_CONFIRM_PARAM_NAME=NAME

# ุงูฺฏู ุชุงุฏ ูุธุฑุณูุฌ
FEEDBACK_CONFIRM_TEMPLATE_ID=your_feedback_template_id
FEEDBACK_CONFIRM_PARAM_NAME=NAME

# ุงูฺฏู ุงุณุชุฎุฏุงู
CAREERS_CONFIRM_TEMPLATE_ID=your_careers_template_id
CAREERS_CONFIRM_PARAM_NAME=NAME

# ุงูฺฏู ุชูุงุณ
CONTACT_CONFIRM_TEMPLATE_ID=your_contact_template_id
CONTACT_CONFIRM_PARAM_NAME=NAME

# ===========================================
# Staff Notifications
# ===========================================

# ุงูฺฏู ุงุทูุงุนโุฑุณุงู ุจู ฺฉุงุฑฺฉูุงู
SMSIR_STAFF_TEMPLATE_ID=your_staff_template_id
SMSIR_STAFF_PARAM_NAME=LINK

# ุดูุงุฑู ููุจุงู ฺฉุงุฑฺฉูุงู ุจุฑุง ุงุทูุงุนโุฑุณุงู
STAFF_NOTIFY_MOBILE=09xxxxxxxxx
```

---

## ๐งช **ุชุณุช ุณุณุชู**

### **ูุฑุญูู ฑ: ุชุณุช ุชูุธูุงุช**
```bash
POST https://salamatlab-backend.liara.run/api/test-sms.php
Content-Type: application/json

{
  "action": "test_config"
}
```

**ูพุงุณุฎ ููุฑุฏ ุงูุชุธุงุฑ:**
```json
{
  "success": true,
  "message": "ูพฺฉุฑุจูุฏ ุจุฑุฑุณ ุดุฏ",
  "data": {
    "sms_api_key": "SET โ",
    "sms_template_id": "SET โ",
    "sendOtpSms_function": "EXISTS โ"
  }
}
```

### **ูุฑุญูู ฒ: ุชุณุช ุงุฑุณุงู OTP**
```bash
POST https://salamatlab-backend.liara.run/api/test-otp.php
Content-Type: application/json

{
  "action": "test_send",
  "phone": "09123456789"
}
```

**ูพุงุณุฎ ููุฑุฏ ุงูุชุธุงุฑ:**
```json
{
  "success": true,
  "message": "ฺฉุฏ ุงููุช ุชููุฏ ุดุฏ",
  "data": {
    "phone": "09123456789",
    "code_generated": "123456",
    "database_storage": "SUCCESS โ",
    "sms_simulation": "NOT SENT (test mode)",
    "expires_in": 300
  }
}
```

### **ูุฑุญูู ณ: ุชุณุช ูุงูุน SMS**
```bash
POST https://salamatlab-backend.liara.run/api/otp.php
Content-Type: application/json

{
  "action": "send",
  "phone": "09123456789"
}
```

**ูพุงุณุฎ ููุฑุฏ ุงูุชุธุงุฑ:**
```json
{
  "success": true,
  "message": "ฺฉุฏ ุงููุช ุงุฑุณุงู ุดุฏ",
  "data": {
    "expiresIn": 300,
    "phone": "09123456789"
  }
}
```

---

## ๐ฑ **ุชุณุช ุจุง ุฑุงุจุท ฺฉุงุฑุจุฑ**

1. ูุงู `test-otp.html` ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ:
```
https://your-domain.com/test-otp.html
```

2. **ุชุจ "ุชูุธูุงุช"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุฑู **"ุชุณุช ุชูุธูุงุช"** ฺฉูฺฉ ฺฉูุฏ
4. **ุชุจ "ุงุฑุณุงู ฺฉุฏ"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
5. ุดูุงุฑู ููุจุงู ูุงุฑุฏ ฺฉูุฏ
6. ุฑู **"ุงุฑุณุงู ฺฉุฏ ุชุณุช"** ฺฉูฺฉ ฺฉูุฏ
7. ุจุฑุง ุงุฑุณุงู ูุงูุน SMS ุฑู **"ุงุฑุณุงู ูุงูุน"** ฺฉูฺฉ ฺฉูุฏ

---

## ๐ **ุนุจโุงุจ**

### **ุงฺฏุฑ ุชุณุช ุชูุธูุงุช ูุงูููู ุจูุฏ:**

#### **ุฎุทุง: SMS_API_KEY not set**
```json
{
  "sms_api_key": "NOT SET โ"
}
```

**ุฑุงูโุญู:**
1. ูุงุฑุฏ ูพูู Liara ุดูุฏ
2. ุงูพ `salamatlab-backend` ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุจุฎุด Environment Variables
4. ูุชุบุฑ `SMSIR_API_KEY` ุฑุง ุงุถุงูู ฺฉูุฏ

#### **ุฎุทุง: SMSIR_TEMPLATE_ID not set**
```json
{
  "sms_template_id": "NOT SET โ"
}
```

**ุฑุงูโุญู:**
1. ูุงุฑุฏ ูพูู SMS.ir ุดูุฏ
2. ุงูฺฏู ุงุฌุงุฏ ฺฉูุฏ
3. Template ID ุฑุง ฺฉูพ ฺฉูุฏ
4. ุฏุฑ Liara ูุชุบุฑ `SMSIR_TEMPLATE_ID` ุฑุง ุชูุธู ฺฉูุฏ

---

### **ุงฺฏุฑ ุงุฑุณุงู SMS ูุงูููู ุจูุฏ:**

#### **ุจุฑุฑุณ ูุงฺฏโูุง:**
1. ูุงุฑุฏ ูพูู Liara ุดูุฏ
2. ุงูพ `salamatlab-backend` ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุจุฎุด Logs ุฑุง ฺฺฉ ฺฉูุฏ

#### **ุฎุทุงูุง ุฑุงุฌ:**

**ุฎุทุง: API Key ูุงูุนุชุจุฑ**
```
SMS.ir API returned error: Invalid API Key
```

**ุฑุงูโุญู:**
- API Key ุฑุง ุงุฒ ูพูู SMS.ir ุฏูุจุงุฑู ฺฺฉ ฺฉูุฏ

**ุฎุทุง: Template ID ูุงูุนุชุจุฑ**
```
SMS.ir API returned error: Invalid Template ID
```

**ุฑุงูโุญู:**
- Template ID ุฑุง ุงุฒ ูพูู SMS.ir ฺฺฉ ฺฉูุฏ

**ุฎุทุง: ุดูุงุฑู ููุจุงู ูุงูุนุชุจุฑ**
```
SMS.ir API returned error: Invalid mobile number
```

**ุฑุงูโุญู:**
- ุดูุงุฑู ููุจุงู ุจุงุฏ ฑฐ ุฑูู ู ุจุฏูู ุตูุฑ ุดุฑูุน ุจุงุดุฏ
- ูุซุงู: `9123456789` ูู `09123456789`

---

## ๐ **ูุงูุชูุฑูฺฏ ู ุขูุงุฑ**

### **ุจุฑุฑุณ ุขูุงุฑ ุงุฑุณุงู SMS:**
ุฏุฑ ูพูู SMS.ir ูโุชูุงูุฏ ุขูุงุฑ ุฒุฑ ุฑุง ูุดุงูุฏู ฺฉูุฏ:
- ุชุนุฏุงุฏ ูพุงูโูุง ุงุฑุณุงู
- ูุฒูู ุงุฑุณุงู
- ูุฑุฎ ููููุช
- ฺฏุฒุงุฑุด ุฎุทุงูุง

### **ูุงฺฏโูุง ุณุณุชู:**
ูุงฺฏโูุง ฺฉุงูู ุงุฒ ุนููุงุช SMS ุฏุฑ ุณุณุชู ุฐุฎุฑู ูโุดูุฏ:
- ุฒูุงู ุงุฑุณุงู
- ุดูุงุฑู ฺฏุฑูุฏู
- ูุถุนุช ุงุฑุณุงู
- ูุฒูู
- ุฎุทุงูุง

---

## ๐ก **ูฺฉุงุช ููู**

### **1. ุงููุช**
- API Key ุฑุง ุจุง ฺฉุณ ุจู ุงุดุชุฑุงฺฉ ูฺฏุฐุงุฑุฏ
- ุงุฒ HTTPS ุงุณุชูุงุฏู ฺฉูุฏ
- ูุงฺฏโูุง ุญุณุงุณ ุฑุง ฺฺฉ ฺฉูุฏ

### **2. ูุฒููโูุง**
- ูุฑ ูพุงูฺฉ ูุฒูู ุฏุงุฑุฏ
- ูุฒูู ุฑุง ุฏุฑ ูพูู SMS.ir ฺฺฉ ฺฉูุฏ
- ุงุฒ ุงุฑุณุงู ุชุณุช ุจุด ุงุฒ ุญุฏ ุฎูุฏุฏุงุฑ ฺฉูุฏ

### **3. ูุญุฏูุฏุชโูุง**
- SMS.ir ูุญุฏูุฏุช ุชุนุฏุงุฏ ุงุฑุณุงู ุฏุฑ ุณุงุนุช ุฏุงุฑุฏ
- ุฏุฑ ุตูุฑุช ุฑุณุฏู ุจู ูุญุฏูุฏุชุ ููุชุธุฑ ุจูุงูุฏ

### **4. ูพุดุชุจุงูโฺฏุฑ**
- ุชูุธูุงุช ุฑุง ุฏุฑ ุฌุง ุงูู ูฺฏู ุฏุงุฑุฏ
- ุงุฒ API Key ูพุดุชุจุงู ุชูู ฺฉูุฏ

---

## ๐ **ุชุจุฑฺฉ!**

ุงฺฏุฑ ุชูุงู ุชุณุชโูุง ูููู ุจูุฏูุฏุ ุณุณุชู SMS.ir ุดูุง ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช! ๐

**ุงฺฉููู ูโุชูุงูุฏ ุงุฒ ุณุณุชู OTP ุฏุฑ ุงูพูฺฉุดู ุงุณุชูุงุฏู ฺฉูุฏ.**
