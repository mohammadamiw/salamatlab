# ุฑุงูููุง ุงุณุชูุฑุงุฑ ุงูู ุณุณุชู ุฑุฒุฑู

## โ๏ธ ุชุบุฑ ููู: ุณุณุชู ุฏุงุฏูโูุง ุฌุฏุง ุดุฏู

ุงุฒ ุงู ูพุณุ ุฏุงุฏูโูุง ฺฉุงุฑุจุฑุงู ุฏุฑ ูพูุดู ุฌุฏุงฺฏุงูู `salamatlab_data/` ุฐุฎุฑู ูโุดูุฏ ฺฉู ุฏุฑ ููฺฏุงู ุขูพุฏุช ูพุงฺฉ ูุฎูุงูุฏ ุดุฏ.

## ูุฑุงุญู ุงุณุชูุฑุงุฑ ุฌุฏุฏ

### 1. ุฑุงูโุงูุฏุงุฒ ุงููู (ฺฉ ุจุงุฑ)

#### ุงูู) ุขูพููุฏ ุงุณฺฉุฑูพุชโูุง ุฑุงูโุงูุฏุงุฒ
```bash
upload: setup-data-directory.php
upload: deploy-safe.php
```

#### ุจ) ุงุฌุฑุง ุฑุงูโุงูุฏุงุฒ
1. ุฏุณุชุฑุณ ุจู: `https://yourdomain.com/setup-data-directory.php`
2. ุฑูุฒ ุนุจูุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ (ูพุดโูุฑุถ: salamatlab33010)
3. ุฑู "ุงุฌุงุฏ ูพูุดู ุฏุงุฏูโูุง" ฺฉูฺฉ ฺฉูุฏ

#### ุฌ) ุงูุชูุงู ุฏุงุฏูโูุง ููุฌูุฏ (ุงุฎุชุงุฑ)
ุงฺฏุฑ ูุจูุงู ุฏุงุฏูโุง ุฏุงุฑุฏ:
```bash
# ุงูุชูุงู ูุงูโูุง ููุฌูุฏ ุจู ูพูุดู ุฌุฏุฏ
cp bookings.log ../salamatlab_data/
cp contacts.log ../salamatlab_data/
cp requests_store.json ../salamatlab_data/
```

### 2. ุงุณุชูุฑุงุฑ ูุณุฎูโูุง ุฌุฏุฏ

#### ุฑูุด ฑ: ุงุณุชูุงุฏู ุงุฒ ูพูู ูุจ (ุชูุตู ุดุฏู)
1. ุฏุณุชุฑุณ ุจู: `https://yourdomain.com/deploy-safe.php`
2. ูพุดุชุจุงูโฺฏุฑ ุงุถุทุฑุงุฑ ุงูุฌุงู ุฏูุฏ
3. ูุงู ZIP ุฌุฏุฏ ุฑุง ุขูพููุฏ ฺฉูุฏ
4. ุงุณุชูุฑุงุฑ ุฑุง ุดุฑูุน ฺฉูุฏ

#### ุฑูุด ฒ: ุงุณุชูุงุฏู ุงุฒ ุงุณฺฉุฑูพุช ุฎุท ูุฑูุงู
```bash
# ุขูพููุฏ deploy.sh ุจู ุณุฑูุฑ
chmod +x deploy.sh
./deploy.sh production
```

#### ุฑูุด ณ: ุขูพููุฏ ุฏุณุช
```bash
# ุขูพููุฏ ูุญุชูุงุช dist/ ุจู public_html/
# ุงูุง NEVER ุขูพููุฏ ุฏุฑ salamatlab_data/ ุง salamatlab_backups/
```

### 3. ุณุงุฎุชุงุฑ ูุงูโูุง ููุง

```
your-host/
โโโ public_html/          # ูุงูโูุง ูุจ (ูุงุจู overwirte)
โ   โโโ api/
โ   โโโ assets/
โ   โโโ index.html
โ   โโโ ...
โโโ salamatlab_data/      # ุฏุงุฏูโูุง (ุญูุธ ุดูุฏ!)
โ   โโโ bookings.log
โ   โโโ contacts.log
โ   โโโ requests_store.json
โ   โโโ .htaccess
โโโ salamatlab_backups/   # ูพุดุชุจุงูโูุง
    โโโ backup_2024-01-01.zip
    โโโ ...
```

## ๐ ฺฺฉ ูุณุช ุงุณุชูุฑุงุฑ ุงูู

### ูุจู ุงุฒ ุงุณุชูุฑุงุฑ:
- [ ] ูพุดุชุจุงูโฺฏุฑ ุงุฒ ุฏุงุฏูโูุง ูุนู
- [ ] ุชุณุช ูุณุฎู ุฌุฏุฏ ุฏุฑ ูุญุท local
- [ ] ุงุทููุงู ุงุฒ ูุฌูุฏ ูพูุดู `salamatlab_data/`
- [ ] ุจุฑุฑุณ ูุงูโูุง ุถุฑูุฑ (config.php ุชุบุฑ ุงูุชู)

### ุญู ุงุณุชูุฑุงุฑ:
- [ ] ุงุณุชูุงุฏู ุงุฒ ูพูู deploy-safe.php
- [ ] ุง ุงุฌุฑุง ุงุณฺฉุฑูพุช deploy.sh
- [ ] NEVER ุขูพููุฏ ูุณุชูู ุฏุฑ ูพูุดู data

### ุจุนุฏ ุงุฒ ุงุณุชูุฑุงุฑ:
- [ ] ุชุณุช ูุฑู ุฑุฒุฑู
- [ ] ุชุณุช ูุฑู ุชูุงุณ
- [ ] ุจุฑุฑุณ ุงููโูุง
- [ ] ูพุงฺฉ ฺฉุฑุฏู ฺฉุด ูุฑูุฑฺฏุฑ

#### ุงูู) ุงุทููุงู ุงุฒ ูุนุงู ุจูุฏู PHP
- PHP 7.4 ุง ุจุงูุงุชุฑ
- ูุนุงู ุจูุฏู ูุงฺูู `mail` ุจุฑุง ุงุฑุณุงู ุงูู

#### ุจ) ุชูุธูุงุช ุงูู
ุฏุฑ ูุงู `booking.php`ุ ุขุฏุฑุณ ุงูู ูุฏุฑ ุฑุง ุชุบุฑ ุฏูุฏ:

```php
$admin_email = 'your-email@domain.com'; // ุงูู ูุฏุฑ
```

#### ุฌ) ุชูุธูุงุช CORS
ูุงู `.htaccess` ุจุงุฏ CORS ุฑุง ุจู ุฏุฑุณุช ุชูุธู ฺฉูุฏ.

### 4. ุชุณุช ุณุณุชู

#### ุงูู) ุชุณุช ุงุชุตุงู
ุงุฒ ูุงู `test-booking-api.html` ุจุฑุง ุชุณุช ุงุชุตุงู ุงุณุชูุงุฏู ฺฉูุฏ.

#### ุจ) ุชุณุช ูุฑู ุงุตู
ูุฑู ุฑุฒุฑู ุฑุง ุฏุฑ ุณุงุช ุงุตู ุชุณุช ฺฉูุฏ.

## ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

#### 1. ุฎุทุง 404
- ุจุฑุฑุณ ูุณุฑ ูุงูโูุง
- ุจุฑุฑุณ ุชูุธูุงุช `.htaccess`

#### 2. ุฎุทุง CORS
- ุจุฑุฑุณ ุชูุธูุงุช `.htaccess`
- ุงุทููุงู ุงุฒ ูุนุงู ุจูุฏู `mod_headers`

#### 3. ุนุฏู ุงุฑุณุงู ุงูู
- ุจุฑุฑุณ ุชูุธูุงุช PHP mail
- ุจุฑุฑุณ ุขุฏุฑุณ ุงูู ูุฏุฑ

#### 4. ุฎุทุง JSON
- ุจุฑุฑุณ Content-Type header
- ุจุฑุฑุณ ุณุงุฎุชุงุฑ ุฏุงุฏูโูุง ุงุฑุณุงู

### ูุงฺฏโูุง

ุณุณุชู ุฑุฒุฑู ุฏุฑ ูุงู `bookings.log` ูุงฺฏ ูโฺฉูุฏ. ุงู ูุงู ุฑุง ุจุฑุฑุณ ฺฉูุฏ:

```bash
tail -f bookings.log
```

## ุงููุช

### ุชูุตูโูุง ุงููุช

1. **ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง**: ุชูุงู ูุฑูุฏโูุง ุฏุฑ PHP ุงุนุชุจุงุฑุณูุฌ ูโุดููุฏ
2. **Sanitization**: ุงุฒ `htmlspecialchars` ุงุณุชูุงุฏู ุดุฏู
3. **CORS ูุญุฏูุฏ**: ุฏุฑ ุตูุฑุช ูุงุฒุ CORS ุฑุง ูุญุฏูุฏ ฺฉูุฏ
4. **Rate Limiting**: ุฏุฑ ุตูุฑุช ูุงุฒุ ูุญุฏูุฏุช ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุช ุงุถุงูู ฺฉูุฏ

### ุชูุธูุงุช ูพุดุฑูุชู

#### ูุญุฏูุฏ ฺฉุฑุฏู CORS ุจู ุฏุงููู ุฎุงุต
```apache
Header always set Access-Control-Allow-Origin "https://yourdomain.com"
```

#### ุงุถุงูู ฺฉุฑุฏู Rate Limiting
```apache
# ุฏุฑ .htaccess
RewriteCond %{HTTP:X-Forwarded-For} ^$
RewriteCond %{REMOTE_ADDR} ^$
RewriteRule .* - [E=REMOTE_ADDR:%{HTTP:X-Forwarded-For}]
```

## ูพุดุชุจุงู

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู:

1. ุจุฑุฑุณ ูุงฺฏโูุง ุณุฑูุฑ
2. ุจุฑุฑุณ ูุงฺฏโูุง PHP
3. ุชุณุช ุจุง ูุงู `test-booking-api.html`
4. ุจุฑุฑุณ ุชูุธูุงุช ูุงุณุช

## ุจูโุฑูุฒุฑุณุงู

ุจุฑุง ุจูโุฑูุฒุฑุณุงู:

1. ูุงูโูุง ุฌุฏุฏ ุฑุง ุขูพููุฏ ฺฉูุฏ
2. ฺฉุด ูุฑูุฑฺฏุฑ ุฑุง ูพุงฺฉ ฺฉูุฏ
3. ุชุณุช ฺฉูุฏ
4. ุฏุฑ ุตูุฑุช ูุงุฒุ ูุงูโูุง ูุฏู ุฑุง ูพุงฺฉ ฺฉูุฏ
